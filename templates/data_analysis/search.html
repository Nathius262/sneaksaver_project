{% extends 'base.html' %}

{% block title %}search result{% endblock %}
{% load static %}

{% block content %}
	<style>
		.bg_image{
			height: 300px;
			object-fit: contain;
			overflow: hidden;
		}
		.col-md-6:hover{
			transform: translateY(-20px);
			transition: transform 1s ease-in-out;
		}
	</style>

	<div class="container-fluid" style="overflow-x: hidden;">
		<div class="row">
			<main class="ms-sm-auto px-md-4">

				

				<div class="section container">
                    {% if all_product or service %}
					<h2 class="fw-bold h1 mb-5">search result</h2>

					<div class="section container">
						<div class="row">
							<div class="col-md-8">
								<div>
									<h3 class="h2 fw-bold">FAQ Search Result: "{{query}}"</h3>
								</div>
								{% if faq_content %}
								<div>
									{% for results in faq_content %}
									<div>
										<a class="fs-5" href="{% url "faq" %}">{{results.title}}?</a>
									</div>
									{% endfor %}
								</div>
								{% else %}
								<div class="container">
									<div class="row">
										 <div class="col-lg-12 col-md-4">
											<div class="card m-auto mb-4 shadow">
												<div class="card-body">
													<h2 class="card-title">No results for FAQ</h2>
													<p>There's no results matching your search: "{{query}}"</p>
												</div>
											</div>
										</div>
									</div>
								</div>
								{% endif %}
							</div>
							<div class="col-md-4 fs-5">
								<h3 class="fw-bold">
									Search keywords
								</h3>
								{% for search in top_search %}
								<a style="transform: translate(0); cursor: pointer;" class="nav-link" href="/search/?q={{search.name}}"><span type="submit" class="mx-3">"{{search.name}}"</span><span>Number of searches {{search.search_count}}</span></a>
								{% endfor %}
							</div>


						</div>
	
					</div>

					

					<div class="row align-items-md-stretch">
                        <h3 class="fw-bold h2 mt-5 mb-4">Product Result: "{{query}}"</h3>
						{% if all_product %}
						{% for products in all_product %}
							<div class="col-md-6 mb-3 {% cycle 'scroll-x-down-el' 'scroll-x-top-el' %}">
								
								<div class="h-100 p-5 bg-light border rounded-3">
									<div class="container bg_image">
										<img class="w-100" src="{{products.image_url}}" alt="">
									</div>
									<h2>{{products.name}}</h2>
									<p>{{products.description | truncatewords:50}}</p>
									<div class="d-flex justify-content-between align-items-center">
										<p class="text-end fw-bold fs-5">Â£{{products.price}}</p>
										<a href='{{products.get_absolute_url}}' class="btn btn-outline-secondary border-none">View</a>
									</div>
									
								</div>
							</div>
						{% endfor %}
						{% else %}
								<div class="container">
									<div class="row">
										 <div class="col-lg-12 col-md-4">
											<div class="card m-auto mb-4 shadow">
												<div class="card-body">
													<h2 class="card-title">No results found for Product</h2>
													<p>There's no results matching your search: "{{query}}"</p>
												</div>
											</div>
										</div>
									</div>
								</div>
						{% endif %}
					</div>

					<div class="blog-pagination " aria-label="Pagination">
						<a class="btn btn-outline-primary {% if not all_product.has_previous  %}disabled {% endif %}"{% if all_product.has_previous  %}href="?{% if query %}q={{query}}&{% endif %}page={{all_product.previous_page_number}}"{% else %} href="" tabindex="-1"{% endif %}>Older</a>

						<a class="btn btn-outline-secondary {% if not all_product.has_next %}disabled {% endif %}" {% if all_product.has_next  %} href="?{% if query %}q={{query}}&{% endif %}page={{all_product.next_page_number}}"{% else %} href="" tabindex="-1"{% endif %} >Newer</a>
					</div>

                    <div class="col-sm-4 col col-lg-4 mx-4 mt-5 mb-5">
                        <div class="article_home_right_1 clearfix">
                          <h3 class="h2 fw-bold">Service Result: "{{query}}"</h3>

						  {% if service %}
      
                          {% for cat in service %}
                          <p><a class="fs-5" href="#">{{cat.name}}</a></p>
                          {% endfor %}
						  {% else %}
								<div class="container">
									<div class="row">
										 <div class="col-lg-12 col-md-4">
											<div class="card m-auto mb-4 shadow">
												<div class="card-body">
													<h2 class="card-title">No results for Services</h2>
													<p>There's no results matching your search: "{{query}}"</p>
												</div>
											</div>
										</div>
									</div>
								</div>
						  {% endif %}
                      </div>
      
                    </div>
                    {% else %}
                    <div class="container">
                        <div class="row">
                             <div class="col-lg-12 col-md-4">
                                <div class="card m-auto mb-4 shadow">
                                    <div class="card-body">
                                        <h2 class="card-title">No results</h2>
                                        <p>There's no results matching your search: "{{query}}"</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% endif %}
					
				</div>

				{% include 'snippets/carousel.html' %}
				


				<div class="section container-lg d-flex justify-content-center flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
					<div class="featurette mt-5">
						<div class="h4 fw-bold text-center">CONNET WITH US</div>
						<div class="d-flex justify-content-between">
							<a target="blank" href="#" class="connet-bg rounded-3 bg-gradient">
								<i class="fa-brands fa-facebook fa-2x align-self-center"></i>
							</a>
							<a target="blank" href="#" class="connet-bg rounded-3 bg-gradient">
								<i class="fa-brands fa-instagram fa-2x align-self-center"></i>
							</a>
							<a target="blank" href="#" class="connet-bg rounded-3 bg-gradient">
								<i class="fa-brands fa-twitter fa-2x align-self-center"></i>
							</a>
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>
{% endblock %}
